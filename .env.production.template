# Production Environment Template
# Copy this file to .env.production and fill in your production values

# =============================================================================
# CORE APPLICATION
# =============================================================================

# Environment
NODE_ENV=production

# Application
NEXT_PUBLIC_APP_URL=https://yourdomain.com
PORT=3000

# =============================================================================
# DATABASE
# =============================================================================

# MongoDB Atlas Production Cluster
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority

# Database Configuration
DB_MAX_CONNECTIONS=100
DB_TIMEOUT=30000

# =============================================================================
# AUTHENTICATION
# =============================================================================

# NextAuth Configuration
NEXTAUTH_SECRET=<generate-with-openssl-rand-base64-32>
NEXTAUTH_URL=https://yourdomain.com

# Session Configuration
NEXTAUTH_URL_INTERNAL=http://localhost:3000

# =============================================================================
# GOOGLE OAUTH & SERVICES
# =============================================================================

# Google OAuth (Production)
GOOGLE_CLIENT_ID=<your-production-google-client-id>
GOOGLE_CLIENT_SECRET=<your-production-google-client-secret>

# Google Maps API
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=<your-production-maps-api-key>

# =============================================================================
# FILE STORAGE
# =============================================================================

# Cloudinary (Production)
CLOUDINARY_CLOUD_NAME=<your-production-cloud-name>
CLOUDINARY_API_KEY=<your-production-api-key>
CLOUDINARY_API_SECRET=<your-production-api-secret>

# Upload Limits
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# =============================================================================
# SECURITY
# =============================================================================

# CORS Origins (comma-separated)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Rate Limiting
ENABLE_RATE_LIMITING=true
REDIS_URL=redis://localhost:6379  # For distributed rate limiting

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_HSTS=true

# =============================================================================
# REAL-TIME FEATURES
# =============================================================================

# Socket.io Configuration
SOCKET_IO_CORS_ORIGIN=https://yourdomain.com
SOCKET_IO_TRANSPORTS=websocket,polling

# WebRTC Configuration
STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
TURN_SERVER_URL=<your-turn-server-url>
TURN_SERVER_USERNAME=<your-turn-server-username>
TURN_SERVER_CREDENTIAL=<your-turn-server-credential>

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Application Monitoring
ENABLE_LOGGING=true
LOG_LEVEL=info
LOG_FORMAT=json

# Error Tracking (Optional)
SENTRY_DSN=<your-sentry-dsn>
SENTRY_ENVIRONMENT=production

# Analytics (Optional)
GOOGLE_ANALYTICS_ID=<your-ga-id>

# Health Check
HEALTH_CHECK_TOKEN=<random-token-for-internal-health-checks>

# =============================================================================
# PERFORMANCE
# =============================================================================

# Next.js Optimization
NEXT_PUBLIC_BUNDLE_ANALYZER=false
ANALYZE=false

# Image Optimization
NEXT_PUBLIC_IMAGE_DOMAINS=res.cloudinary.com,lh3.googleusercontent.com

# Caching
CACHE_TTL=3600  # 1 hour
STATIC_CACHE_TTL=86400  # 24 hours

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Discovery Features
ENABLE_GPS_DISCOVERY=true
ENABLE_WIFI_DISCOVERY=true
ENABLE_BLUETOOTH_DISCOVERY=false  # Not yet supported in web

# Communication Features
ENABLE_CHAT=true
ENABLE_VOICE_CALLS=true
ENABLE_VIDEO_CALLS=true
ENABLE_FILE_SHARING=true

# Social Features
ENABLE_FRIEND_REQUESTS=true
ENABLE_FRIEND_SUGGESTIONS=true
ENABLE_PROFILE_SHARING=true

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================

# Build Configuration
BUILD_ID=<your-build-id>
DEPLOYMENT_ENV=production
DEPLOYMENT_REGION=us-east-1

# Container Configuration (if using Docker)
CONTAINER_MEMORY_LIMIT=512
CONTAINER_CPU_LIMIT=0.5

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Database Backup
BACKUP_MONGODB_URI=<backup-connection-string>
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# File Backup
BACKUP_CLOUDINARY_FOLDER=friendfinder-backups

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Push Notifications (Optional)
VAPID_PUBLIC_KEY=<your-vapid-public-key>
VAPID_PRIVATE_KEY=<your-vapid-private-key>
VAPID_SUBJECT=mailto:admin@yourdomain.com

# Email Notifications (Optional)
SMTP_HOST=<your-smtp-host>
SMTP_PORT=587
SMTP_USER=<your-smtp-user>
SMTP_PASS=<your-smtp-password>
FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Payment Processing (Future)
# STRIPE_PUBLIC_KEY=<your-stripe-public-key>
# STRIPE_SECRET_KEY=<your-stripe-secret-key>

# Location Services (Future)
# MAPBOX_TOKEN=<your-mapbox-token>

# =============================================================================
# DEVELOPMENT TOOLS (Disabled in Production)
# =============================================================================

# Debugging
DEBUG=false
NEXT_PUBLIC_DEBUG=false

# Development Features
ENABLE_MOCK_DATA=false
ENABLE_DEV_TOOLS=false
SHOW_QUERY_LOGS=false

# =============================================================================
# COMPLIANCE & PRIVACY
# =============================================================================

# GDPR Compliance
ENABLE_GDPR_MODE=true
DATA_RETENTION_DAYS=365
COOKIE_CONSENT_REQUIRED=true

# Privacy Settings
ENABLE_ANALYTICS_OPT_OUT=true
ANONYMOUS_ANALYTICS=true
STRICT_PRIVACY_MODE=false

# =============================================================================
# NOTES
# =============================================================================

# 1. Generate NEXTAUTH_SECRET with: openssl rand -base64 32
# 2. Use strong passwords for all service accounts
# 3. Regularly rotate secrets and API keys
# 4. Monitor usage and costs for third-party services
# 5. Set up proper backup and monitoring systems
# 6. Configure SSL certificates and security headers
# 7. Test all integrations in staging environment first